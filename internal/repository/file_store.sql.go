// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.28.0
// source: file_store.sql

package repository

import (
	"context"
)

const addFileToStore = `-- name: AddFileToStore :exec
insert into file_store (fileId, storeId) values ($1, $2)
`

type AddFileToStoreParams struct {
	Fileid  int32 `json:"fileid"`
	Storeid int32 `json:"storeid"`
}

func (q *Queries) AddFileToStore(ctx context.Context, arg AddFileToStoreParams) error {
	_, err := q.db.Exec(ctx, addFileToStore, arg.Fileid, arg.Storeid)
	return err
}

const getAllFilesFromStore = `-- name: GetAllFilesFromStore :many
select id, fileid, storeid from file_store where id = $1
`

func (q *Queries) GetAllFilesFromStore(ctx context.Context, id int32) ([]FileStore, error) {
	rows, err := q.db.Query(ctx, getAllFilesFromStore, id)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []FileStore
	for rows.Next() {
		var i FileStore
		if err := rows.Scan(&i.ID, &i.Fileid, &i.Storeid); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const moveFileToStore = `-- name: MoveFileToStore :exec
update file_store set storeId = $3 where fileid = $1 and storeId = $2
`

type MoveFileToStoreParams struct {
	Fileid    int32 `json:"fileid"`
	Storeid   int32 `json:"storeid"`
	Storeid_2 int32 `json:"storeid_2"`
}

func (q *Queries) MoveFileToStore(ctx context.Context, arg MoveFileToStoreParams) error {
	_, err := q.db.Exec(ctx, moveFileToStore, arg.Fileid, arg.Storeid, arg.Storeid_2)
	return err
}

const removeFileFromStore = `-- name: RemoveFileFromStore :exec
delete from file_store where fileId = $1 and storeId = $2
`

type RemoveFileFromStoreParams struct {
	Fileid  int32 `json:"fileid"`
	Storeid int32 `json:"storeid"`
}

func (q *Queries) RemoveFileFromStore(ctx context.Context, arg RemoveFileFromStoreParams) error {
	_, err := q.db.Exec(ctx, removeFileFromStore, arg.Fileid, arg.Storeid)
	return err
}
